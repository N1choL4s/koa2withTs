<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>login</title>
</head>
<body>
    <input type="text" name="loginName" id="loginName">
    <input type="text" name="loginpass" id="loginpass">
    <input type="text" name="code" id="code">
    <a onclick="showImgCode();"><img src="/api/imgCode?rnd=0.7731311735799533" id="imgCode"></a>
    <input type="submit" onclick="login()" value="登录">
<script src="http://code.jquery.com/jquery-1.4.1.min.js"></script>
<script>
    function showImgCode(){
        document.getElementById('imgCode').setAttribute('src','/api/imgCode?rnd='+Math.random());
    }

    function login() {
        var data = {
            loginName: $('#loginName').val(),
            loginpass: $('#loginpass').val(),
            code: $('#code').val()
        };
        $.ajax({
            url: '/api/login',
            type: 'post',
            data: data,
            xhrFields: {
                withCredentials: true
            },
            success: function (res) {
                    alert(res);
            }
        })
    }
</script>
</body>
</html>